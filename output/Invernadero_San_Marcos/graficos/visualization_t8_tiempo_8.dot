digraph TiempoT8 {
    rankdir=TB;
    node [shape=rectangle, style="filled,rounded", fontsize=11];
    edge [color="#2E86AB", penwidth=2];
    bgcolor="#F8F9FA";
    compound=true;

    "Titulo" [label="ESTADO DEL SISTEMA\nTiempo t=8\nInvernadero San Marcos", shape=ellipse, fillcolor="#1E40AF", fontcolor=white, fontsize=16, width=4, height=2];

    subgraph cluster_plan {
        label="PLAN DE RIEGO ACTIVO";
        style=filled;
        fillcolor="#DCFCE7";
        fontsize=14;
        penwidth=2;
        color="#16A34A";
        "Plan" [label="SECUENCIA ACTUAL:\nH2-P1, H4-P1, H1-P2, H3-P2, H2-P2, H4-P2...\n\nTIEMPO: 8s\nESTADO: EJECUTANDO", fillcolor="#22C55E", fontcolor=white, fontsize=12, shape=box];
    }
    "Titulo" -> "Plan" [lhead=cluster_plan];

    subgraph cluster_drones {
        label="ESTADO DE DRONES";
        style=filled;
        fillcolor="#EFF6FF";
        fontsize=14;
        penwidth=2;
        color="#2563EB";
        "Dron0" [label="DRON 1\nTrabajando\nPosicion: 0\nHilera 1\nCapacidad: 50L", fillcolor="#90EE90", shape=box, fontsize=10, penwidth=2];
        "Dron1" [label="DRON 2\nTrabajando\nPosicion: 0\nHilera 2\nCapacidad: 50L", fillcolor="#90EE90", shape=box, fontsize=10, penwidth=2];
        "Dron2" [label="DRON 3\nTrabajando\nPosicion: 0\nHilera 3\nCapacidad: 50L", fillcolor="#90EE90", shape=box, fontsize=10, penwidth=2];
        "Dron3" [label="DRON 4\nTrabajando\nPosicion: 0\nHilera 4\nCapacidad: 50L", fillcolor="#90EE90", shape=box, fontsize=10, penwidth=2];
    }
    "Plan" -> "Dron0" [lhead=cluster_drones, label="controla"];
    "TiempoInfo" [label="INFORMACION DEL SISTEMA\nTiempo transcurrido: 8s\nDrones operando: 4\nHileras totales: 4\nEstado: ACTIVO", shape=box, fillcolor="#FEF3C7", color="#D97706", penwidth=2, fontsize=11];
    "Titulo" -> "TiempoInfo" [style=dashed, color="#D97706"];
}
